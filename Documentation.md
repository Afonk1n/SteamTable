# –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ü–†–û–ï–ö–¢–ê SteamTable

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞, —Ñ—É–Ω–∫—Ü–∏—è—Ö, –ª–æ–≥–∏–∫–µ —Ä–∞–±–æ—Ç—ã –∏ –≤–∞–∂–Ω—ã—Ö –¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## –ü–†–ê–í–ò–õ–ê –†–ê–ë–û–¢–´ –° –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ï–ô

### –î–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤:

1. **–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∑–∞–¥–∞—á–∏**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
2. **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ**: –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é - –æ–±–Ω–æ–≤–∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, –¥–æ–±–∞–≤—å –≤–∞–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏, –∏–∑–º–µ–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
3. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç—å**: –ò—Å—Ç–æ—Ä–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, –¥–∞—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º "—á—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ"
4. **–•—Ä–∞–Ω–∏—Ç—å**: –¢–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

---

## –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –§–∞–π–ª—ã –∫–æ–¥–∞:

1. **Constants.gs** - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (STEAM_FEE, COLORS, NUMBER_FORMATS, TREND_ANALYSIS_CONFIG, API_CONFIG, HERO_STATS, HERO_MAPPING)
2. **SheetService.gs** - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–∏—Å—Ç–∞–º–∏ (`getOrCreateSheet_`, `formatHeaderRange_`, `createLogSheet_`, `getHeroStatsSheet_`, `getHeroMappingSheet_`)
3. **History.gs** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ª–∏—Å—Ç–∞ History (—Ü–µ–Ω—ã, —Ç—Ä–µ–Ω–¥—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
4. **Invest.gs** - –õ–æ–≥–∏–∫–∞ –ª–∏—Å—Ç–∞ Invest (–ø–æ—Ä—Ç—Ñ–µ–ª—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π, —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏)
5. **Sales.gs** - –õ–æ–≥–∏–∫–∞ –ª–∏—Å—Ç–∞ Sales (–ø—Ä–æ–¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã, —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Å–∞–¥–∫–∏)
6. **Utils.gs** - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
7. **Menu.gs** - –ú–µ–Ω—é –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã (onOpen, setupAllTriggers, performInitialSetup)
8. **EventHandler.gs** - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –ª–∏—Å—Ç–æ–≤ (—á–µ–∫–±–æ–∫—Å—ã "–ö—É–ø–∏—Ç—å?" –∏ "–ü—Ä–æ–¥–∞—Ç—å?")
9. **FormattingService.gs** - –£—Ç–∏–ª–∏—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü)
10. **Calculations.gs** - Batch-—Ä–∞—Å—á–µ—Ç—ã –ø—Ä–∏–±—ã–ª–∏/—É–±—ã—Ç–∫–∞ –¥–ª—è Invest/Sales
11. **PortfolioStats.gs** - –¢—Ä–µ–∫–∏–Ω–≥ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫)
12. **Telegram.gs** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –æ—Ç—á–µ—Ç—ã)
13. **OpenDotaAPI.gs** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenDota API –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤ (–ø–∏–∫—Ä–µ–π—Ç, –≤–∏–Ω—Ä–µ–π—Ç, –±–∞–Ω—Ä–µ–π—Ç)
14. **SteamWebAPI.gs** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SteamWebAPI.ru –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–µ–¥–º–µ—Ç–∞—Ö (—Ü–µ–Ω—ã, —Ç–µ–≥–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
15. **HeroStats.gs** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—Å—Ç–æ–º HeroStats (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ—Ä–æ–µ–≤ –ø–æ –¥–∞—Ç–∞–º)
16. **HeroMapping.gs** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—Å—Ç–æ–º HeroMapping (—Å–≤—è–∑—å –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –≥–µ—Ä–æ—è–º–∏)
17. **PriceHistoryUtils.gs** - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ Min/Max —Ü–µ–Ω —á–µ—Ä–µ–∑ SteamWebAPI.ru

### –õ–∏—Å—Ç—ã —Ç–∞–±–ª–∏—Ü—ã:

- **History** - –û—Å–Ω–æ–≤–Ω–æ–π –ª–∏—Å—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ü–µ–Ω –ø–æ –¥–∞—Ç–∞–º
- **Invest** - –ü–æ—Ä—Ç—Ñ–µ–ª—å –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
- **Sales** - –ü—Ä–æ–¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–∞–¥–∫–∏ —Ü–µ–Ω—ã)
- **PortfolioStats** - –ò—Å—Ç–æ—Ä–∏—è –º–µ—Ç—Ä–∏–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è (–¥–∏–Ω–∞–º–∏–∫–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏)
- **HeroStats** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ—Ä–æ–µ–≤ –ø–æ –¥–∞—Ç–∞–º (–ø–∏–∫—Ä–µ–π—Ç, –≤–∏–Ω—Ä–µ–π—Ç, –±–∞–Ω—Ä–µ–π—Ç, contest rate)
- **HeroMapping** - –ú–∞–ø–ø–∏–Ω–≥ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–∞ –≥–µ—Ä–æ–µ–≤ (—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º)
- **AutoLog** - –õ–æ–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å–∫—Ä–∏–ø—Ç–∞
- **Log** - –õ–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏

---

## –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ü–µ–Ω –ø–æ –¥–∞—Ç–µ

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ü–µ–Ω, –¥–æ–ª–∂–Ω—ã –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—ã –ø–æ –¥–∞—Ç–µ (–∏–≥–Ω–æ—Ä–∏—Ä—É—è –ø–µ—Ä–∏–æ–¥ "–Ω–æ—á—å"/"–¥–µ–Ω—å").

**–ü–æ—á–µ–º—É**: –ü–µ—Ä–∏–æ–¥ "–Ω–æ—á—å" (00:10-12:00) –∏ "–¥–µ–Ω—å" (12:00-00:10) –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –æ–¥–Ω–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π –¥–∞—Ç–µ. –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤, —Ñ–∞–∑—ã —Ü–∏–∫–ª–∞ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –Ω—É–∂–Ω–∞ –æ–¥–Ω–∞ —Ü–µ–Ω–∞ –Ω–∞ –¥–µ–Ω—å.

**–ö–∞–∫ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å**:
1. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ —Ü–µ–Ω—ã —Å –∏—Ö –¥–∞—Ç–∞–º–∏ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∫–æ–ª–æ–Ω–æ–∫
2. –ü–∞—Ä—Å–∏—Ç—å –¥–∞—Ç—É –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (—Ñ–æ—Ä–º–∞—Ç: "dd.MM.yy –Ω–æ—á—å" –∏–ª–∏ "dd.MM.yy –¥–µ–Ω—å")
3. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∫–ª—é—á—É `dd.MM.yy`, –±–µ—Ä—è **–ø–æ—Å–ª–µ–¥–Ω—é—é —Ü–µ–Ω—É** –∑–∞ –¥–µ–Ω—å
4. –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—ã –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**:
- `history_analyzeTrend()` - –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–∞
- `history_updateTrends()` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Ñ–∞–∑–∞, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª)
- `history_calculateDaysChange_()` - —Ä–∞—Å—á–µ—Ç –¥–Ω–µ–π —Å–º–µ–Ω—ã —Ç—Ä–µ–Ω–¥–∞

**–í–∞–∂–Ω–æ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –¥–Ω–µ–π**:
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ Map (–±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤) - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –Ω–∞ –¥–µ–Ω—å
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ Date –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–¥–µ–Ω—å (12:00:00) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
- –î–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–Ω–∏—Ü—ã –≤ –¥–Ω—è—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Math.floor` (—Ç–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π, –Ω–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö)
- –†–∞–∑–Ω–∏—Ü–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏, –∞ –Ω–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–ø–∏—Å–µ–π

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ**, –Ω–µ —Å—Ç—Ä–æ–∫–∞:
- –ß–∏—Å–ª–æ: `0.14` (–¥–ª—è +14%)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `'+0%;-0%;"‚Äî"'` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è "+14%" –∏–ª–∏ "-5%"
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–§–∞–π–ª—ã**: `History.gs`, `Invest.gs`, `Sales.gs`, `Utils.gs`

### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø–æ—Ä—è–¥–æ–∫**:
1. –°–Ω–∞—á–∞–ª–∞ —É—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`history_applyAllConditionalFormatting_`)
2. –ü–æ—Ç–æ–º –ø—Ä—è–º–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –≤—ã–¥–µ–ª–µ–Ω–∏–µ min/max (`history_highlightMinMax_`)

**–ü–æ—á–µ–º—É**: –ü—Ä—è–º–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω–æ–µ. –ï—Å–ª–∏ –ø–æ—Ä—è–¥–æ–∫ –Ω–∞—Ä—É—à–µ–Ω, min/max –Ω–µ –±—É–¥—É—Ç –≤—ã–¥–µ–ª–µ–Ω—ã.

**–§–∞–π–ª**: `History.gs`, —Ñ—É–Ω–∫—Ü–∏—è `history_updateAllAnalytics_()`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ª–æ–Ω–æ–∫ –ø–µ—Ä–∏–æ–¥–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ 00:00, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ 00:10, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**:
- –†–∞–∑—Ä–µ—à–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ "–Ω–æ—á—å" —Å 00:00 –¥–æ 12:00 (–≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–≥–æ 00:10)
- `history_updatePricesForPeriod` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false` –≤–º–µ—Å—Ç–æ –≤—ã–±—Ä–æ—Å–∞ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –∫–æ–ª–æ–Ω–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- `unified_priceUpdate` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `false` - –ø—Ä–æ—Å—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–∫–∏

**–§–∞–π–ª—ã**: `History.gs`, `Utils.gs`

### –í—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π

**–í—Å–µ –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É** (–ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞):
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sheet.insertRowAfter(HEADER_ROW)` 
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è: –ª–æ–≥–æ–≤ (AutoLog, Log), –∏—Å—Ç–æ—Ä–∏–∏ PortfolioStats

**–§–∞–π–ª—ã**: `Utils.gs`, `PortfolioStats.gs`

---

## –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –°–ò–°–¢–ï–ú–´

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
Steam Market API
    ‚Üì
History (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–Ω –ø–æ –¥–∞—Ç–∞–º)
    ‚Üì
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ü–µ–Ω –≤ Invest/Sales (syncPricesFromHistoryToInvestAndSales)
    ‚Üì
–†–∞—Å—á–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ History (—Ç—Ä–µ–Ω–¥—ã, —Ñ–∞–∑—ã, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª)
    ‚Üì
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ Invest/Sales
    ‚Üì
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è (PortfolioStats, —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–∏–æ–¥–∞ "–¥–µ–Ω—å")
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ç—Ä–∏–≥–≥–µ—Ä—ã)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
1. **00:00** - `history_createPeriodAndUpdate_morning()` —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ª–æ–Ω–∫—É –ø–µ—Ä–∏–æ–¥–∞ "–Ω–æ—á—å" –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–±–æ—Ä —Ü–µ–Ω
2. **12:00** - `history_createPeriodAndUpdate_evening()` —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ª–æ–Ω–∫—É –ø–µ—Ä–∏–æ–¥–∞ "–¥–µ–Ω—å" –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–±–æ—Ä —Ü–µ–Ω
3. **–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç** - `unified_priceUpdate()` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å–±–æ—Ä —Ü–µ–Ω –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞
4. **13:00** - `telegram_checkDailyPriceTargets()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ü–µ—Ä–∏–æ–¥—ã —Å–±–æ—Ä–∞ —Ü–µ–Ω**:
- **"–Ω–æ—á—å"**: 00:10 - 12:00 (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∞ 00:10-12:00)
- **"–¥–µ–Ω—å"**: 12:00 - 00:10 —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∞ 12:00-00:10)

**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞**:
–ö–æ–≥–¥–∞ —Å–±–æ—Ä —Ü–µ–Ω –∑–∞–≤–µ—Ä—à–µ–Ω (`historyCompleted === true`):
1. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ History (—Ç—Ä–µ–Ω–¥—ã, —Ñ–∞–∑—ã, min/max)
2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ Invest/Sales
3. –ï—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ === "–¥–µ–Ω—å" ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –≤ PortfolioStats

**–í–∞–∂–Ω–æ**: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ Invest/Sales –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–Ω—É—Ç—Ä–∏ `syncPricesFromHistoryToInvestAndSales()`, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è.

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö - History**:
- **Min/Max**: –ò–∑ –≤—Å–µ—Ö —Ü–µ–Ω –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö –¥–∞—Ç (–ø–æ–∏—Å–∫ –º–∏–Ω–∏–º—É–º–∞/–º–∞–∫—Å–∏–º—É–º–∞)
- **–¢—Ä–µ–Ω–¥/–î–Ω–∏ —Å–º–µ–Ω—ã**: –ò–∑ –∫–æ–ª–æ–Ω–æ–∫ I (—Ç—Ä–µ–Ω–¥) History
- **–§–∞–∑–∞/–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª/–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò–∑ –∫–æ–ª–æ–Ω–æ–∫ J, K, L History

**–§—É–Ω–∫—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**:
- `invest_syncMinMaxFromHistory()` / `sales_syncMinMaxFromHistory()`
- `invest_syncTrendDaysFromHistory()` / `sales_syncTrendDaysFromHistory()`
- `invest_syncExtendedAnalyticsFromHistory()` / `sales_syncExtendedAnalyticsFromHistory()`

---

## –°–¢–†–£–ö–¢–£–†–ê –ö–û–õ–û–ù–û–ö

### History (–æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏—Å—Ç)

- **A**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **B**: –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞
- **C**: –°—Ç–∞—Ç—É—Å (‚úì, ‚ùå, ‚ö†Ô∏è, üÜï, ‚ùì)
- **D**: –°—Å—ã–ª–∫–∞ –Ω–∞ Steam Market
- **E**: –ß–µ–∫–±–æ–∫—Å "–ö—É–ø–∏—Ç—å?"
- **F**: –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
- **G**: Min (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ –∏—Å—Ç–æ—Ä–∏—é)
- **H**: Max (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ –∏—Å—Ç–æ—Ä–∏—é)
- **I**: –¢—Ä–µ–Ω–¥ - **–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** ("üü• –ü–∞–¥–∞–µ—Ç 35 –¥–Ω." –∏–ª–∏ "üü© –†–∞—Å—Ç–µ—Ç 12 –¥–Ω.")
- **J**: –§–∞–∑–∞ —Ü–∏–∫–ª–∞ (–î–Ω–æ, –†–æ—Å—Ç, –ü–∏–∫, –°–ø–∞–¥)
- **K**: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª (P85) - **—á–∏—Å–ª–æ** (0.14 –¥–ª—è +14%), —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ '+0%;-0%;"‚Äî"'
- **L**: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (—Ç–µ–∫—Å—Ç–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)
- **M+**: –ö–æ–ª–æ–Ω–∫–∏ —Å –¥–∞—Ç–∞–º–∏ (—Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞: "dd.MM.yy –Ω–æ—á—å" –∏–ª–∏ "dd.MM.yy –¥–µ–Ω—å")

### Invest (–ø–æ—Ä—Ç—Ñ–µ–ª—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π)

- **A**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **B**: –ù–∞–∑–≤–∞–Ω–∏–µ
- **C**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- **D**: –¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (—É—Å—Ä–µ–¥–Ω–µ–Ω–Ω–∞—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏)
- **E**: –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏–∑ History)
- **F**: –¶–µ–ª—å (—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
- **G**: –û–±—â–∏–µ –≤–ª–æ–∂–µ–Ω–∏—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ √ó —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
- **H**: –¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å –∫–æ–º–∏—Å—Å–∏–µ–π (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ √ó —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ √ó 0.85)
- **I**: –ü—Ä–æ—Ñ–∏—Ç –≤ —Ä—É–±–ª—è—Ö (—Ç–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å –∫–æ–º–∏—Å—Å–∏–µ–π - –≤–ª–æ–∂–µ–Ω–∏—è)
- **J**: –ü—Ä–∏–±—ã–ª—å % —Å –∫–æ–º–∏—Å—Å–∏–µ–π ((—Ç–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å –∫–æ–º–∏—Å—Å–∏–µ–π / –≤–ª–æ–∂–µ–Ω–∏—è) - 1)
- **K**: –°—Å—ã–ª–∫–∞
- **L**: Min (–∏–∑ History)
- **M**: Max (–∏–∑ History)
- **N**: –¢—Ä–µ–Ω–¥ (–∏–∑ History, —Ñ–æ—Ä–º–∞—Ç "üü• –ü–∞–¥–∞–µ—Ç 35 –¥–Ω.")
- **O**: –§–∞–∑–∞ (–∏–∑ History)
- **P**: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª (P85) - **—á–∏—Å–ª–æ** (–∏–∑ History)
- **Q**: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (–∏–∑ History)
- **R**: –ß–µ–∫–±–æ–∫—Å "–ü—Ä–æ–¥–∞—Ç—å?"

### Sales (–ø—Ä–æ–¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã)

- **A**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **B**: –ù–∞–∑–≤–∞–Ω–∏–µ
- **C**: –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è, –µ—Å–ª–∏ –ø—Ä–æ–¥–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
- **D**: –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏–∑ History)
- **E**: –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ—Å–∞–¥–∫–∏ ((—Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ - —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞) / —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
- **F**: –°—Å—ã–ª–∫–∞
- **G**: Min (–∏–∑ History)
- **H**: Max (–∏–∑ History)
- **I**: –¢—Ä–µ–Ω–¥ (–∏–∑ History)
- **J**: –§–∞–∑–∞ (–∏–∑ History)
- **K**: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª (P85) - **—á–∏—Å–ª–æ** (–∏–∑ History)
- **L**: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (–∏–∑ History)

### PortfolioStats (–∏—Å—Ç–æ—Ä–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è)

- **A**: –î–∞—Ç–∞/–í—Ä–µ–º—è (—Ñ–æ—Ä–º–∞—Ç: 'dd.MM.yyyy HH:mm')
- **B**: –í–ª–æ–∂–µ–Ω–∏—è (—Å—É–º–º–∞ –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–∏–π –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏)
- **C**: –¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (—Å—É–º–º–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏)
- **D**: –ü—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ –≤ —Ä—É–±–ª—è—Ö
- **E**: –ü—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ % (–æ–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –≤–ª–æ–∂–µ–Ω–∏–π)
- **F**: –°—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å (—Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É (–ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ 1 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ "–¥–µ–Ω—å"
- –ï—Å—Ç—å —Ä—É—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`portfolioStats_saveHistoryManual()`)

### HeroStats (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ—Ä–æ–µ–≤)

**–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ (A-C):**
- **A**: Hero ID (—á–∏—Å–ª–æ, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥–µ—Ä–æ—è)
- **B**: Hero Name (—Ç–µ–∫—Å—Ç, –∏–º—è –≥–µ—Ä–æ—è)
- **C**: Rank Category (—Ç–µ–∫—Å—Ç: "High Rank" / "All Ranks")

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ (D+):**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `"DD.MM.YY HH:MM"` (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- –î–∞–Ω–Ω—ã–µ: JSON —Å—Ç—Ä–æ–∫–∞ —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π `{pickRate, winRate, banRate, contestRate, matchCount}`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –î–≤–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–µ—Ä–æ—è: –æ–¥–Ω–∞ –¥–ª—è "High Rank", –≤—Ç–æ—Ä–∞—è –¥–ª—è "All Ranks"
- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π

### HeroMapping (–º–∞–ø–ø–∏–Ω–≥ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–∞ –≥–µ—Ä–æ–µ–≤)

- **A**: Item Name (—Ç–µ–∫—Å—Ç, –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –∏–∑ History)
- **B**: Image (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞, —Ñ–æ—Ä–º—É–ª–∞ `=IMAGE(url)`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏)
- **C**: Hero Name (—Ç–µ–∫—Å—Ç, –∏–º—è –≥–µ—Ä–æ—è, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ SteamWebAPI.ru)
- **D**: Hero ID (—á–∏—Å–ª–æ, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥–µ—Ä–æ—è)
- **E**: Auto-detected (—á–µ–∫–±–æ–∫—Å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)
- **F**: Category (—Ç–µ–∫—Å—Ç: "Hero Item" / "Common Item")

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ—Ä–æ–µ–≤ —á–µ—Ä–µ–∑ SteamWebAPI.ru (tag5)
- Fallback –Ω–∞ `/api/item_by_nameid` –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π endpoint
- Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å History (–¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã)
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑ —Ä—É—á–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —É–±—Ä–∞–Ω–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è)

---

## –í–ê–ñ–ù–´–ï –§–£–ù–ö–¶–ò–ò –ò –ò–• –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï

### History

- `history_analyzeTrend(row)` - –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–∞ –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (4 –º–µ—Ç–æ–¥–∞ —Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º, —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –¥–∞—Ç–µ)
  - –°–æ–∑–¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞—Ç –∏–∑ Map (–Ω–æ—á—å –∏ –¥–µ–Ω—å –æ–¥–Ω–æ–π –¥–∞—Ç—ã = –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–¥–µ–Ω—å (12:00:00) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ Date –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–∞
- `history_updateTrends()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å batch-—á—Ç–µ–Ω–∏–µ–º)
  - –°–æ–∑–¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–∞—Ç –∏–∑ Map (–Ω–æ—á—å –∏ –¥–µ–Ω—å –æ–¥–Ω–æ–π –¥–∞—Ç—ã = –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–¥–µ–Ω—å (12:00:00) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ Date –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–∞
- `history_updateAllAnalytics_()` - –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: —Ç—Ä–µ–Ω–¥—ã, –¥–Ω–∏ —Å–º–µ–Ω—ã, —Ñ–∞–∑—ã, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, min/max
- `history_updateCurrentPriceMinMax_(sheet)` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, Min, Max
  - –û–∫—Ä–∞—à–∏–≤–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ü–µ–Ω—ã –≤ –∂–µ–ª—Ç—ã–π (COLORS.STABLE), –µ—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –∑–∞ —Ç–µ–∫—É—â–∏–π –ø–µ—Ä–∏–æ–¥
  - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏ –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ü–µ–Ω
- `history_calculateDaysChange_(prices, dates, currentTrend)` - –†–∞—Å—á–µ—Ç –¥–Ω–µ–π —Å–º–µ–Ω—ã —Ç—Ä–µ–Ω–¥–∞
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏ (Math.floor), –∞ –Ω–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
  - –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã dates –±—ã–ª–∏ —É–∂–µ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ (–æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –Ω–∞ –¥–µ–Ω—å)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–¥–µ–Ω—å (12:00:00) –≤ –¥–∞—Ç–∞—Ö –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–∞
- `history_highlightMinMax_(sheet)` - –í—ã–¥–µ–ª–µ–Ω–∏–µ —è—á–µ–µ–∫ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
  - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ —Ñ–æ–Ω—ã –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `history_applyAllConditionalFormatting_(sheet)` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤
- `history_ensurePeriodColumn(period)` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∞ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏)
  - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–æ–Ω –¥–ª—è –≤—Å–µ—Ö —è—á–µ–µ–∫ –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∫–æ–ª–æ–Ω–æ–∫
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∏–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–ª–æ–Ω–∫–∏
- `history_updatePricesForPeriod(period)` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- `history_formatTable()` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ History
- `history_updateImagesAndLinks()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Å—Å—ã–ª–æ–∫ –∏–∑ Steam API

### Invest

- `invest_calculateBatch_(sheet, currentPrices)` - Batch-—Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫
- `invest_calculateSingle_(sheet, row, currentPrice)` - –†–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏ –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- `invest_syncMinMaxFromHistory()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Min/Max –∏–∑ History
- `invest_syncTrendDaysFromHistory()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¢—Ä–µ–Ω–¥/–î–Ω–∏ –∏–∑ History
- `invest_syncExtendedAnalyticsFromHistory()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –§–∞–∑–∞/–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª/–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∏–∑ History
- `invest_dailyReset()` - –û—á–∏—Å—Ç–∫–∞ —Ü–µ–Ω –∏ –ø–µ—Ä–µ—Å—á–µ—Ç–æ–≤ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ª–æ–Ω–∫–∏ –ø–µ—Ä–∏–æ–¥–∞)
  - –û—á–∏—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã –∏ —Ä–∞—Å—á–µ—Ç—ã
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–¥–µ—Å—å (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ `syncPricesFromHistoryToInvestAndSales()`)
- `invest_formatTable()` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ Invest
- `invest_formatGoalColumn_(startRow, endRow)` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ "–¶–µ–ª—å" (–∫—Ä–∞—Å–Ω—ã–π/–∑–µ–ª–µ–Ω—ã–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã)

### Sales

- `sales_calculateBatch_(sheet, currentPrices, sellPrices)` - Batch-—Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Å–∞–¥–∫–∏ —Ü–µ–Ω—ã
- `sales_calculateSingle_(sales, row, currentPrice)` - –†–∞—Å—á–µ—Ç –ø—Ä–æ—Å–∞–¥–∫–∏ –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- `sales_syncMinMaxFromHistory()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Min/Max
- `sales_syncTrendDaysFromHistory()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¢—Ä–µ–Ω–¥/–î–Ω–∏
- `sales_syncExtendedAnalyticsFromHistory()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –§–∞–∑–∞/–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª/–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- `sales_dailyReset()` - –û—á–∏—Å—Ç–∫–∞ —Ü–µ–Ω (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ª–æ–Ω–∫–∏ –ø–µ—Ä–∏–æ–¥–∞)
  - –û—á–∏—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã –∏ —Ä–∞—Å—á–µ—Ç—ã
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–¥–µ—Å—å (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ `syncPricesFromHistoryToInvestAndSales()`)
- `sales_formatTable()` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ Sales

### PortfolioStats

- `portfolioStats_calculateMetrics_()` - –†–∞—Å—á–µ—Ç —Ç–µ–∫—É—â–∏—Ö –º–µ—Ç—Ä–∏–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è (5 –º–µ—Ç—Ä–∏–∫: –≤–ª–æ–∂–µ–Ω–∏—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å, –ø—Ä–∏–±—ã–ª—å, –ø—Ä–∏–±—ã–ª—å %, —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å)
- `portfolioStats_saveHistory_()` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ –∏—Å—Ç–æ—Ä–∏—é (–≤—Å—Ç–∞–≤–∫–∞ —Å—Ç—Ä–æ–∫–∏ —Å–≤–µ—Ä—Ö—É, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `portfolioStats_saveHistoryManual()` - –†—É—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `portfolioStats_formatTable()` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ PortfolioStats
- `portfolioStats_update()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏—Å—Ç–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

### Utils

- `fetchWithRetry_(url, options, config)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ —Å retry –ª–æ–≥–∏–∫–æ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ SteamWebAPI –∏ OpenDotaAPI)
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø—Ä–∏ rate limit (429)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã HTTP_STATUS –∏ LIMITS –¥–ª—è –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª
- `history_createPeriodAndUpdate()` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–µ—Ä–∏–æ–¥–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ –≤ 00:00 –∏ 12:00)
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏: –ª–æ–≥–∏—Ä—É–µ—Ç –Ω–∞—á–∞–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ AutoLog, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã (–æ–∫—Ä–∞—Å–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –≤ –∂–µ–ª—Ç—ã–π)
- `unified_priceUpdate()` - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–±–æ—Ä–∞ —Ü–µ–Ω –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞
- `syncPricesFromHistoryToInvestAndSales()` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ü–µ–Ω –∏–∑ History –≤ Invest/Sales
  - –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ History –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ `readHistoryDataForSync_()` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –í—ã–∑—ã–≤–∞–µ—Ç `syncInvestPricesFromHistory_()` –∏ `syncSalesPricesFromHistory_()` —Å –æ–±—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç batch-—Ä–∞—Å—á–µ—Ç—ã –ø—Ä–∏–±—ã–ª–∏/–ø—Ä–æ—Å–∞–¥–∫–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É: `invest_syncMinMaxFromHistory()`, `invest_syncTrendDaysFromHistory()`, `invest_syncExtendedAnalyticsFromHistory()`, –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è Sales
- `readHistoryDataForSync_(historySheet)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö History (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- `getCurrentPriceFromHistoryData_(historyData)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö History
- `isPriceOutdated_(historyData)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–µ–π —Ü–µ–Ω—ã
- `formatTableBase_(sheet, headers, columns, getSheetFn, sheetName)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü (FormattingService.gs)
- `formatNewRowUniversal_(sheet, row, config, numberFormatConfig, addImageAndLink)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ (FormattingService.gs)
- `getHistoryPriceForPeriod_(historySheet, itemName, period)` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏–∑ History –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- `acquireLock_(lockKey, timeoutSeconds)` - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Ç–∞–π–º–∞—É—Ç 5 –º–∏–Ω—É—Ç)
- `releaseLock_(lockKey)` - –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- `getCurrentPricePeriod()` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ ("–Ω–æ—á—å" –∏–ª–∏ "–¥–µ–Ω—å")
- `logAutoAction_(sheetName, action, status)` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ AutoLog
- `logOperation_(type, itemName, quantity, pricePerUnit, total, source)` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏ –≤ Log
- `insertLogRowUniversal_(sheet, values, formats)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å—Ç—Ä–æ–∫ –≤ –ª–∏—Å—Ç—ã –ª–æ–≥–æ–≤
- `createLogSheet_(sheetName, headers, columnWidths)` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏—Å—Ç–æ–≤ –ª–æ–≥–æ–≤ (–≤ SheetService.gs)

### Telegram

- `telegram_setConfig(botToken, chatId)` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞ (–≤ PropertiesService)
- `telegram_getConfig()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞
- `telegram_sendMessage(message, parseMode, disablePreview)` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
  - `disablePreview` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`) - –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏
  - `parseMode` –æ–±—ã—á–Ω–æ 'HTML' –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `telegram_checkDailyPriceTargets()` - –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ (—Ç—Ä–∏–≥–≥–µ—Ä 13:00)
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 3 —Å–æ–æ–±—â–µ–Ω–∏—è: –æ–±—â–∏–π –æ—Ç—á–µ—Ç, –ø–æ–∑–∏—Ü–∏–∏ –¥–æ—Å—Ç–∏–≥—à–∏–µ —Ü–µ–ª–∏, –ø–æ–∑–∏—Ü–∏–∏ —Å –ø—Ä–æ—Å–∞–¥–∫–æ–π
  - –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏/–ø—Ä–æ—Å–∞–¥–∫–µ
- `telegram_sendDailyReport()` - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—â–µ–≥–æ –æ—Ç—á–µ—Ç–∞ –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ
  - –°—á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ Invest (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç PortfolioStats)
- `telegram_testConnection()` - –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–æ—Ç—É
- `telegram_testDailyNotifications()` - –†—É—á–Ω–æ–π —Ç–µ—Å—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Menu

- `onOpen()` - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ç–∞–±–ª–∏—Ü—ã
- `setupAllTriggers()` - –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ (–≤–∫–ª—é—á–∞—è Telegram)
- `removeAllTriggers()` - –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- `initializeAllTables()` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `syncAnalyticsForInvestSales_()` - –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ Invest/Sales

### EventHandler

- `onEdit(e)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ª–∏—Å—Ç–∞—Ö (—á–µ–∫–±–æ–∫—Å—ã "–ö—É–ø–∏—Ç—å?" –∏ "–ü—Ä–æ–¥–∞—Ç—å?")
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–±–æ–∫—Å–∞ "–ö—É–ø–∏—Ç—å?" –≤ History: —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ Invest
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–±–æ–∫—Å–∞ "–ü—Ä–æ–¥–∞—Ç—å?" –≤ Invest: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏, —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Sales

---

## –ö–û–ù–°–¢–ê–ù–¢–´ –ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (Constants.gs)

```javascript
STEAM_APP_ID = 570  // Dota 2
STEAM_FEE = 0.85    // –ö–æ–º–∏—Å—Å–∏—è Steam 15%

DATA_START_ROW = 2
HEADER_ROW = 1
ROW_HEIGHT = 85
HEADER_HEIGHT = 35

NUMBER_FORMATS = {
  CURRENCY: '#,##0.00 ‚ÇΩ',
  PERCENT: '0.00%',
  INTEGER: '0'
}

COLORS = {
  PROFIT: '#c8e6c9',      // –°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π
  LOSS: '#ffcdd2',        // –°–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π
  STABLE: '#fff9c4',      // –ñ–µ–ª—Ç—ã–π
  BACKGROUND: '#f3f3f3'   // –°–µ—Ä—ã–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
}

HTTP_STATUS = {
  OK: 200,
  RATE_LIMIT: 429
}

UPDATE_INTERVALS = {
  PRICES_MINUTES: 10,     // –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–±–æ—Ä–∞
  MORNING_HOUR: 0,        // 00:00 (–Ω–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ "–Ω–æ—á—å")
  EVENING_HOUR: 12        // 12:00 (–Ω–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ "–¥–µ–Ω—å")
}

PRICE_COLLECTION_PERIODS = {
  MORNING: 'morning',     // –ü–µ—Ä–∏–æ–¥ "–Ω–æ—á—å" (00:10-12:00)
  EVENING: 'evening'      // –ü–µ—Ä–∏–æ–¥ "–¥–µ–Ω—å" (12:00-00:10)
}

LIMITS = {
  TIME_BUDGET_MS: 330000,  // 5.5 –º–∏–Ω—É—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é
  MAX_ATTEMPTS: 2,         // –ü–æ–ø—ã—Ç–æ–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã
  BASE_DELAY_MS: 200,      // –ë–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
  BETWEEN_ITEMS_MS: 150,   // –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
  LOCK_TIMEOUT_SEC: 300,   // –¢–∞–π–º–∞—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (5 –º–∏–Ω—É—Ç)
  ERROR_MESSAGE_MAX_LENGTH: 200  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
}

API_CONFIG = {
  STEAM_WEB_API: {
    BASE_URL: 'https://steamwebapi.ru',
    TIMEOUT_MS: 30000,
    MAX_RETRIES: 3,
    RETRY_DELAY_MS: 500,
    MAX_ITEMS_PER_REQUEST: 50  // –î–æ 50 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
  },
  OPENDOTA: {
    BASE_URL: 'https://api.opendota.com/api',
    TIMEOUT_MS: 30000,
    MAX_RETRIES: 3,
    RETRY_DELAY_MS: 500
  }
}

HERO_STATS_UPDATE_SCHEDULE = {
  HOURS: [2, 10, 18]  // 02:00, 10:00, 18:00 UTC
}

HERO_STATS_HISTORY_DAYS = 90  // –•—Ä–∞–Ω–∏—Ç—å 90 –¥–Ω–µ–π –∏—Å—Ç–æ—Ä–∏–∏
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤

```javascript
TREND_ANALYSIS_CONFIG = {
  SIMPLE_COMPARISON: {
    BASE_THRESHOLD: 0.08,      // 8%
    VOLATILITY_MULTIPLIER: 1.5,
    SIDEWAYS_FACTOR: 0.4
  },
  MOVING_AVERAGES: {
    SHORT_WINDOW: 3,
    LONG_WINDOW: 7,
    BASE_THRESHOLD: 0.02        // 2%
  },
  LINEAR_REGRESSION: {
    WINDOW: 20,
    GROWTH_THRESHOLD: 0.03,     // 3%
    FALL_THRESHOLD: -0.03        // -3%
  },
  MOMENTUM: {
    WINDOW: 5,
    BASE_THRESHOLD: 0.05         // 5%
  },
  CYCLE_PHASE: {
    BOTTOM_THRESHOLD: 0.25,      // 25%
    TOP_THRESHOLD: 0.75          // 75%
  },
  GROWTH_POTENTIAL: {
    PERCENTILE_TARGET: 0.85      // 85-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å
  }
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫ History

```javascript
HISTORY_COLUMNS = {
  IMAGE: 'A',
  NAME: 'B',
  STATUS: 'C',
  LINK: 'D',
  BUY_CHECKBOX: 'E',
  CURRENT_PRICE: 'F',
  MIN: 'G',
  MAX: 'H',
  TREND: 'I',
  PHASE: 'J',
  POTENTIAL: 'K',
  RECOMMENDATION: 'L',
  FIRST_DATE_COL: 14  // –ö–æ–ª–æ–Ω–∫–∞ N (M = 13)
}
```

---

## –†–ê–°–ß–ï–¢–´ –ò –§–û–†–ú–£–õ–´

### Invest - –†–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏

```javascript
totalInvestment = quantity * buyPrice
currentValue = quantity * currentPrice
currentValueAfterFee = currentValue * STEAM_FEE  // √ó 0.85
profit = currentValueAfterFee - totalInvestment
profitAfterFee = (currentValueAfterFee / totalInvestment) - 1
```

### Invest - –£—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π:
```javascript
newQty = currentQty + qtyToAdd
newAvg = (currentQty * currentBuy + qtyToAdd * buyPricePerUnit) / newQty
```

### Sales - –†–∞—Å—á–µ—Ç –ø—Ä–æ—Å–∞–¥–∫–∏ —Ü–µ–Ω—ã

```javascript
priceDrop = (sellPrice - currentPrice) / sellPrice
```
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = —Ü–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ (—Ö–æ—Ä–æ—à–æ)
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = —Ü–µ–Ω–∞ —É–ø–∞–ª–∞ (–ø–ª–æ—Ö–æ)

### PortfolioStats - –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è

```javascript
totalInvestment = —Å—É–º–º–∞ –≤—Å–µ—Ö totalInvestment –∏–∑ Invest
totalCurrentValue = —Å—É–º–º–∞ –≤—Å–µ—Ö currentValueAfterFee –∏–∑ Invest
totalProfit = totalCurrentValue - totalInvestment
totalProfitPercent = (totalCurrentValue / totalInvestment) - 1
avgProfitability = —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π (profitAfterFee)
```

---

## –ß–ï–ö–õ–ò–°–¢ –ü–†–û–í–ï–†–ö–ò –ü–†–ò –ò–ó–ú–ï–ù–ï–ù–ò–Ø–•

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:

- [ ] –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ü–µ–Ω –ø–æ –¥–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ, –≥–¥–µ –Ω—É–∂–Ω–æ (—Ç—Ä–µ–Ω–¥—ã, —Ñ–∞–∑—ã, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª)
- [ ] –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ, –Ω–µ —Å—Ç—Ä–æ–∫–∞
- [ ] –ü–æ—Ä—è–¥–æ–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: —Å–Ω–∞—á–∞–ª–∞ —É—Å–ª–æ–≤–Ω–æ–µ (`history_applyAllConditionalFormatting_`), –ø–æ—Ç–æ–º –ø—Ä—è–º–æ–µ (`history_highlightMinMax_`)
- [ ] Batch-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≥—Ä—É–ø–ø–∞–º–∏)
- [ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –≤ `finally` –±–ª–æ–∫–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (null, 0, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ, `Number.isFinite()`)
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ª–∏—Å—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (History ‚Üí Invest/Sales)
- [ ] –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `insertRowAfter(HEADER_ROW)`)
- [ ] API –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç retry –ª–æ–≥–∏–∫—É –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (429, —Ç–∞–π–º–∞—É—Ç—ã)
- [ ] Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, item_by_nameid –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –Ω–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π endpoint)
- [ ] Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤ (SteamWebAPI.ru –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 50 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞ —Ä–∞–∑)

---

## –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ª–æ–Ω–æ–∫ –≤ 00:00

**–°–∏–º–ø—Ç–æ–º—ã**: –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö –≤ 00:07, –∫–æ–≥–¥–∞ —Ç—Ä–∏–≥–≥–µ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã, –Ω–æ –∫–æ–ª–æ–Ω–∫–∞ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ**: 
- –†–∞–∑—Ä–µ—à–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ "–Ω–æ—á—å" —Å 00:00 (–≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–≥–æ 00:10)
- `history_updatePricesForPeriod` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false` –≤–º–µ—Å—Ç–æ –≤—ã–±—Ä–æ—Å–∞ –æ—à–∏–±–∫–∏
- `unified_priceUpdate` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `false`

**–§–∞–π–ª—ã**: `History.gs`, `Utils.gs`

---

## –ú–ï–ù–Æ –ò –¢–†–ò–ì–ì–ï–†–´

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é SteamTable

- –í–∫–ª—é—á–∏—Ç—å/–í—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
- –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã History (—Ä—É—á–Ω–æ–µ)

### –ü–æ–¥–º–µ–Ω—é Invest
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å—Å—ã–ª–∫–∏
- –ü–æ–∏—Å–∫ –¥—É–±–ª–µ–π

### –ü–æ–¥–º–µ–Ω—é Sales
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å—Å—ã–ª–∫–∏
- –ü–æ–∏—Å–∫ –¥—É–±–ª–µ–π

### –ü–æ–¥–º–µ–Ω—é History
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å—Å—ã–ª–∫–∏
- –î—É–±–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–π
- –°–æ–∑–¥–∞—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞

### –ü–æ–¥–º–µ–Ω—é PortfolioStats
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É –∏—Å—Ç–æ—Ä–∏–∏ (—Ç–µ—Å—Ç)

### –ü–æ–¥–º–µ–Ω—é Telegram
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram
- –¢–µ—Å—Ç Telegram
- –¢–µ—Å—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—ã –∏–∑ History
- –û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É Invest/Sales
