# –ü–†–û–ï–ö–¢–ò–†–û–í–ê–ù–ò–ï –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –° API

> **–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –∫–æ–¥–æ–º** - —Å–º. `.cursor/rules/code-doc-rules.mdc` –∏ `Documentation.md`

---

## üöÄ –ë–´–°–¢–†–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ü–ï–†–í–û–ù–ê–ß–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –ù–û–í–û–ô –¢–ê–ë–õ–ò–¶–´

–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –≤—Å–µ–≥–æ –∫–æ–¥–∞ –≤ —Ñ–∞–π–ª—ã Google Apps Script –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### ‚úÖ –®–ê–ì 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É Google Sheets**
2. **–í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ:** `SteamTable` ‚Üí `–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã`
   - –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –ª–∏—Å—Ç—ã: Invest, Sales, History, PortfolioStats, HeroStats, HeroMapping, AutoLog, Log
   - –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è `‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã`

### ‚úÖ –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤

#### 2.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Stratz API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤)

1. **–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á** –Ω–∞ [stratz.com](https://stratz.com/api)
2. **–í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ:** `SteamTable` ‚Üí `API Settings` ‚Üí `–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Stratz API`
3. **–í—Å—Ç–∞–≤—å—Ç–µ API –∫–ª—é—á** –≤ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** `SteamTable` ‚Üí `API Settings` ‚Üí `–¢–µ—Å—Ç Stratz API`

#### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞** —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
2. **–ü–æ–ª—É—á–∏—Ç–µ Chat ID:**
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":123456789}` - —ç—Ç–æ –≤–∞—à Chat ID
3. **–í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ:** `SteamTable` ‚Üí `Telegram` ‚Üí `–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram`
4. **–í—Å—Ç–∞–≤—å—Ç–µ Bot Token –∏ Chat ID**
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** `SteamTable` ‚Üí `Telegram` ‚Üí `–¢–µ—Å—Ç Telegram`

### ‚úÖ –®–ê–ì 3: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

#### 3.1 –õ–∏—Å—Ç History

1. **–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã** –≤ –ª–∏—Å—Ç History (–∫–æ–ª–æ–Ω–∫–∞ B - –ù–∞–∑–≤–∞–Ω–∏–µ)
2. **–î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å—Å—ã–ª–∫–∏:**
   - –í –º–µ–Ω—é: `SteamTable` ‚Üí `History` ‚Üí `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å—Å—ã–ª–∫–∏`
   - –ò–ª–∏ –æ–Ω–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ EventHandler

#### 3.2 –ü–µ—Ä–≤—ã–π —Ä–∞—Å—á–µ—Ç Min/Max —Ü–µ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤** –≤ History –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   - `SteamTable` ‚Üí `–†–∞—Å—Å—á–∏—Ç–∞—Ç—å Min/Max –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤`
   - –≠—Ç–æ –∑–∞–ø–æ–ª–Ω–∏—Ç –∫–æ–ª–æ–Ω–∫–∏ Min –∏ Max –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ Steam (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç)

#### 3.3 –õ–∏—Å—Ç HeroMapping (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Å–≤—è–∑–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –≥–µ—Ä–æ—è–º–∏)

1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏–∑ History:**
   - `SteamTable` ‚Üí `HeroMapping` ‚Üí `–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å History`
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≥–µ—Ä–æ–µ–≤:**
   - `SteamTable` ‚Üí `HeroMapping` ‚Üí `–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ—Ä–æ–µ–≤`
   - –≠—Ç–æ –∑–∞–ø–æ–ª–Ω–∏—Ç –∫–æ–ª–æ–Ω–∫—É Hero Name –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ SteamWebAPI.ru

### ‚úÖ –®–ê–ì 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

1. **–í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
   - `SteamTable` ‚Üí `–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ`
   - –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ç—Ä–∏–≥–≥–µ—Ä—ã:
     - **00:10** –∏ **12:00** - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ –∏ –Ω–∞—á–∞–ª–æ —Å–±–æ—Ä–∞ —Ü–µ–Ω
     - **–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç** - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–±–æ—Ä–∞ —Ü–µ–Ω
     - **13:00** - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### ‚úÖ –®–ê–ì 5: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

1. **–û–±–Ω–æ–≤–∏—Ç–µ —Ü–µ–Ω—ã –≤—Ä—É—á–Ω—É—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   - `SteamTable` ‚Üí `–û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã History (—Ä—É—á–Ω–æ–µ)`
   - –ò–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ (00:10 –∏–ª–∏ 12:00)

2. **–û–±–Ω–æ–≤–∏—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É:**
   - `SteamTable` ‚Üí `History` ‚Üí `–û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É`
   - `SteamTable` ‚Üí `–û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É Invest/Sales`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):**
   - `SteamTable` ‚Üí `Telegram` ‚Üí `–¢–µ—Å—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π`

### üìù –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

- **–õ–æ–≥–∏:** –í—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –ª–∏—Å—Ç—ã AutoLog –∏ Log
- **–¢—Ä–∏–≥–≥–µ—Ä—ã:** –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ `–†–∞—Å—à–∏—Ä–µ–Ω–∏—è` ‚Üí `Apps Script` ‚Üí `–¢—Ä–∏–≥–≥–µ—Ä—ã` (–∏–∫–æ–Ω–∫–∞ —á–∞—Å–æ–≤)
- **–û—à–∏–±–∫–∏:** –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –≤ AutoLog –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **–ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ Min/Max —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä—ã (–≤ –±—É–¥—É—â–µ–º)

---

## üéØ –û–°–ù–û–í–ù–´–ï –ó–ê–î–ê–ß–ò

### –ó–∞–¥–∞—á–∞ 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stratz API –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤
**–°—Ç–∞—Ç—É—Å:** API –∫–ª—é—á –ø–æ–ª—É—á–µ–Ω, –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–¶–µ–ª—å:** –¢—Ä–µ–∫–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ—Ç—ã (–ø–∏–∫—Ä–µ–π—Ç/–≤–∏–Ω—Ä–µ–π—Ç) –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ä–æ—Å—Ç —Ü–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤

### –ó–∞–¥–∞—á–∞ 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SteamWebAPI.ru –¥–ª—è –∑–∞–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Steam
**–°—Ç–∞—Ç—É—Å:** –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç  
**–¶–µ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Steam (–º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫) + –ø–æ–ª—É—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

---

## üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò –ü–†–ò–ù–¶–ò–ü–´

**–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- –ö–∞–∂–¥—ã–π API/—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ (`StratzAPI.gs`, `SteamWebAPI.gs`)
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `SheetService.gs` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–∏—Å—Ç–∞–º–∏
- `PropertiesService` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è API –∫–ª—é—á–µ–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞:**
- `telegram_setup()` / `telegram_getConfig()` / `telegram_setConfig()` - –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- `getOrCreateSheet_()` / `getSheet_()` - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ª–∏—Å—Ç–∞–º
- `logAutoAction_()` / `logOperation_()` - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–µ–Ω—é —á–µ—Ä–µ–∑ `onOpen()` —Å –ø–æ–¥–º–µ–Ω—é

---

### –≠–¢–ê–ü 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

#### 1.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `Constants.gs`

**–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**

```javascript
// –ò–º–µ–Ω–∞ –ª–∏—Å—Ç–æ–≤ (–¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ)
const SHEET_NAMES = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  HERO_STATS: 'HeroStats',
  HERO_MAPPING: 'HeroMapping'
}

// API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_CONFIG = {
  STRATZ: {
    BASE_URL: 'https://api.stratz.com/graphql',
    TIMEOUT_MS: 30000,
    MAX_RETRIES: 3,
    RETRY_DELAY_MS: 1000
  },
  STEAM_WEB_API: {
    BASE_URL: 'https://steamwebapi.ru',
    TIMEOUT_MS: 30000,
    MAX_RETRIES: 3,
    RETRY_DELAY_MS: 500,
    MAX_ITEMS_PER_REQUEST: 50
  },
  STEAM_PRICE_HISTORY: {
    BASE_URL: 'https://steamcommunity.com/market/pricehistory',
    TIMEOUT_MS: 30000
  }
}

// –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞—è)
const HERO_STATS_UPDATE_SCHEDULE = {
  ENABLED: true,
  TIMES_PER_DAY: 3,  // –£—Ç—Ä–æ, –¥–µ–Ω—å, –≤–µ—á–µ—Ä
  HOURS: [8, 14, 20]  // 08:00, 14:00, 20:00
}

// –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ HeroStats (–≤ –¥–Ω—è—Ö)
const HERO_STATS_HISTORY_DAYS = 90
```

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `SHEET_NAMES`
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `API_CONFIG`
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `HERO_STATS_UPDATE_SCHEDULE`
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `HERO_STATS_HISTORY_DAYS`

---

#### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ `StratzAPI.gs`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è:**

```javascript
/**
 * StratzAPI - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Stratz GraphQL API
 * 
 * –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤ —á–µ—Ä–µ–∑ GraphQL
 */

// === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
function stratz_getConfig() { ... }
function stratz_setConfig(apiKey) { ... }
function stratz_setup() { ... }  // UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

// === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ===
function stratz_fetchHeroStats(rankCategory = 'all') { ... }
function stratz_fetchAllHeroStats() { ... }  // High Rank + All Ranks

// === –£–¢–ò–õ–ò–¢–´ ===
function stratz_executeGraphQL(query, variables = {}) { ... }
function stratz_testConnection() { ... }
```

**–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. **GraphQL –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤:**
```graphql
query GetHeroStats($rank: Rank) {
  constants {
    heroes {
      id
      displayName
    }
  }
  heroStats {
    heroId
    pickRate
    winRate
    banRate
    matchCount
  }
}
```

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ (429 Too Many Requests)
- Retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫

3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ PropertiesService
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

**–§–∞–π–ª:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `StratzAPI.gs`

---

#### 1.3 –°–æ–∑–¥–∞–Ω–∏–µ `SteamWebAPI.gs`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è:**

```javascript
/**
 * SteamWebAPI - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SteamWebAPI.ru
 * 
 * –ó–∞–º–µ–Ω–∞ —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Steam + –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
 */

// === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ===
function steamWebAPI_fetchItems(itemNames) { ... }  // –î–æ 50 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞ –∑–∞–ø—Ä–æ—Å
function steamWebAPI_fetchSingleItem(itemName) { ... }
function steamWebAPI_getItemData(itemName) { ... }  // –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

// === –£–¢–ò–õ–ò–¢–´ ===
function steamWebAPI_parseItemData(apiResponse) { ... }
function steamWebAPI_getHeroNameFromTags(itemData) { ... }  // tag5
```

**–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. **–≠–Ω–¥–ø–æ–∏–Ω—Ç:**
```
GET /api/item?game=dota2&name[]={item1}&name[]={item2}...
```

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º:**
- –ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã `fetchLowestPrice_()` –Ω–∞ `steamWebAPI_getItemData()`
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä
- Fallback –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

3. **Batch –∑–∞–ø—Ä–æ—Å—ã:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã –ø–æ 50 —à—Ç—É–∫
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –ø–∞–∫–µ—Ç–∞–º–∏

**–§–∞–π–ª:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `SteamWebAPI.gs`

---

### –≠–¢–ê–ü 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤

#### 2.1 –õ–∏—Å—Ç "HeroStats"

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ History - –¥–∞—Ç—ã —Å–±–æ–∫—É):**

**–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ (A-C):**
- A: Hero ID (—á–∏—Å–ª–æ)
- B: Hero Name (—Ç–µ–∫—Å—Ç)
- C: Rank Category ("High Rank" / "All Ranks")

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ (–Ω–∞—á–∏–Ω–∞—è —Å D):**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `"DD.MM.YY HH:MM"`
- –î–∞–Ω–Ω—ã–µ: JSON —Å—Ç—Ä–æ–∫–∞ `{pickRate, winRate, banRate, contestRate, matchCount}`

**–§—É–Ω–∫—Ü–∏–∏ –≤ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ `HeroStats.gs`:**

```javascript
/**
 * HeroStats - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—Å—Ç–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤
 */

// === –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï ===
function heroStats_formatTable() { ... }

// === –°–ë–û–† –î–ê–ù–ù–´–• ===
function heroStats_updateAllStats() { ... }  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
function heroStats_addStatsColumn(rankCategory, heroStatsData) { ... }
function heroStats_getStatsForHero(heroId, rankCategory, dateTime) { ... }
function heroStats_getLatestStats(heroId, rankCategory) { ... }
function heroStats_getStats7DaysAgo(heroId, rankCategory) { ... }

// === –£–¢–ò–õ–ò–¢–´ ===
function getOrCreateHeroStatsSheet_() { ... }  // –í SheetService.gs
function heroStats_archiveOldData() { ... }  // –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π
```

**–î–µ—Ç–∞–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `formatTableBase_()` –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- JSON –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ `JSON.parse()` / `JSON.stringify()`
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `HeroStats.gs`

---

#### 2.2 –õ–∏—Å—Ç "HeroMapping"

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- A: Item Name (—Ç–µ–∫—Å—Ç, –∏–∑ History)
- B: Hero Name (—Ç–µ–∫—Å—Ç, –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –∞–≤—Ç–æ)
- C: Hero ID (—á–∏—Å–ª–æ, –∞–≤—Ç–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ Hero Name)
- D: Auto-detected (—á–µ–∫–±–æ–∫—Å)
- E: Verified (—á–µ–∫–±–æ–∫—Å)
- F: Category ("Hero Item" / "Common Item")

**–§—É–Ω–∫—Ü–∏–∏ –≤ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ `HeroMapping.gs`:**

```javascript
/**
 * HeroMapping - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–º –≥–µ—Ä–æ–π ‚Üí –ø—Ä–µ–¥–º–µ—Ç—ã
 */

// === –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï ===
function heroMapping_formatTable() { ... }

// === –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï ===
function heroMapping_autoDetectFromSteamWebAPI() { ... }  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç tag5
function heroMapping_updateItem(itemName, heroName) { ... }

// === –£–¢–ò–õ–ò–¢–´ ===
function getOrCreateHeroMappingSheet_() { ... }  // –í SheetService.gs
function heroMapping_getHeroForItem(itemName) { ... }
function heroMapping_getAllMappings() { ... }
```

**–î–µ—Ç–∞–ª–∏:**
- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≥–µ—Ä–æ–µ–≤ —á–µ—Ä–µ–∑ Data Validation
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `steamWebAPI_getHeroNameFromTags()`
- –°–≤—è–∑—å —Å History —á–µ—Ä–µ–∑ Item Name

**–§–∞–π–ª:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `HeroMapping.gs`

---

#### 2.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `SheetService.gs`

**–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:**

```javascript
function getOrCreateHeroStatsSheet_() { ... }
function getHeroStatsSheet_() { ... }
function getOrCreateHeroMappingSheet_() { ... }
function getHeroMappingSheet_() { ... }
```

---

### –≠–¢–ê–ü 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SteamWebAPI.ru

#### 3.1 –ó–∞–º–µ–Ω–∞ `fetchLowestPrice_()` –≤ `Utils.gs`

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- –°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä `fetchPriceWithSteamWebAPI()`
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `fetchLowestPrice_()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞
- Fallback –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `Utils.gs`:**

```javascript
// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å fallback
function fetchLowestPrice_(appid, itemName) {
  // –ü—Ä–æ–±—É–µ–º SteamWebAPI.ru
  try {
    const itemData = steamWebAPI_getItemData(itemName)
    if (itemData && itemData.pricelatest) {
      return {
        ok: true,
        price: itemData.pricelatest,
        source: 'steamwebapi'
      }
    }
  } catch (e) {
    console.warn('SteamWebAPI failed, falling back to priceoverview:', e)
  }
  
  // Fallback –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥
  return fetchLowestPrice_legacy_(appid, itemName)
}

// –°—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å)
function fetchLowestPrice_legacy_(appid, itemName) {
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ fetchLowestPrice_()
}
```

---

#### 3.2 –£—Ç–∏–ª–∏—Ç–∞ Min/Max Calculator

**–§—É–Ω–∫—Ü–∏–∏ –≤ `Utils.gs` –∏–ª–∏ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ `PriceHistoryUtils.gs`:**

```javascript
/**
 * PriceHistoryUtils - –†–∞–±–æ—Ç–∞ —Å pricehistory —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º
 */

function priceHistory_calculateMinMaxForAllItems() { ... }  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function priceHistory_fetchHistoryForItem(itemName) { ... }
function priceHistory_parseHistoryData(historyData) { ... }
function priceHistory_updateMinMaxInHistory(itemName, minPrice, maxPrice) { ... }
```

**–î–µ—Ç–∞–ª–∏:**
- –ó–∞–ø—Ä–æ—Å –∫ `pricehistory` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –∏–∑ History
- –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Min/Max –≤ History
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

### –≠–¢–ê–ü 4: –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

#### 4.1 –ù–æ–≤—ã–π —Ñ–∞–π–ª `Analytics.gs`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```javascript
/**
 * Analytics - –†–∞—Å—á–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫ –∏ —Å–∫–æ—Ä–æ–≤
 */

// === –û–°–ù–û–í–ù–´–ï –ú–ï–¢–†–ò–ö–ò ===
function analytics_calculateLiquidityScore(itemData) { ... }
function analytics_calculateDemandRatio(itemData) { ... }
function analytics_calculatePriceMomentum(itemData) { ... }
function analytics_calculateSalesTrend(itemData) { ... }
function analytics_calculateVolatilityIndex(itemData, historyData) { ... }

// === –°–ö–û–†–´ ===
function analytics_calculateHeroTrendScore(heroId, rankCategory) { ... }
function analytics_calculateInvestmentScore(itemData, heroStats) { ... }
function analytics_calculateBuybackScore(itemData, heroStats, priceDrop) { ... }

// === –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø ===
function analytics_normalizeMetric(value, min, max, inverse = false) { ... }
```

**–î–µ—Ç–∞–ª–∏:**
- –í—Å–µ —Ñ–æ—Ä–º—É–ª—ã –∏–∑ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ 0-1
- –£—á–µ—Ç —Å–∏–Ω–µ—Ä–≥–∏–π –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π

---

#### 4.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `History.gs`

**–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ (–ø–æ—Å–ª–µ Recommendation, –∫–æ–ª–æ–Ω–∫–∞ L):**

- M: Hero Name
- N: Contest Rate (current)
- O: Pick Rate (current)
- P: Win Rate (current)
- Q: Contest Rate Change (7d)
- R: Hero Trend

**–§—É–Ω–∫—Ü–∏–∏:**

```javascript
function history_syncHeroStats() { ... }  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å HeroStats
function history_updateHeroStatsColumns() { ... }  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ M-R
```

---

#### 4.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `Invest.gs`

**–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ (–ø–æ—Å–ª–µ Sell Checkbox, –∫–æ–ª–æ–Ω–∫–∞ R):**

- S: Liquidity Score
- T: Demand Ratio
- U: Price Momentum
- V: Sales Trend
- W: Volatility Index
- X: Investment Score
- Y: Risk Level

**–§—É–Ω–∫—Ü–∏–∏:**

```javascript
function invest_updateMetricsFromSteamWebAPI() { ... }
function invest_calculateAllMetrics() { ... }
function invest_updateInvestmentScores() { ... }
```

**–û–±–Ω–æ–≤–∏—Ç—å:**
- `invest_formatTable()` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- `INVEST_COLUMNS` –≤ `Constants.gs`

---

#### 4.4 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `Sales.gs`

**–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ (–ø–æ—Å–ª–µ Recommendation, –∫–æ–ª–æ–Ω–∫–∞ L):**

- M: Liquidity Score
- N: Demand Ratio
- O: Price Momentum
- P: Sales Trend
- Q: Volatility Index
- R: Buyback Score
- S: Risk Level

**–§—É–Ω–∫—Ü–∏–∏:**

```javascript
function sales_updateMetricsFromSteamWebAPI() { ... }
function sales_calculateAllMetrics() { ... }
function sales_updateBuybackScores() { ... }
```

**–û–±–Ω–æ–≤–∏—Ç—å:**
- `sales_formatTable()` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏
- `SALES_COLUMNS` –≤ `Constants.gs`

---

### –≠–¢–ê–ü 5: –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

#### 5.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**–í `History.gs`, `Invest.gs`, `Sales.gs`:**

- –ó–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Investment Score / Buyback Score
- –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –≤ —Ç–µ–∫—Å—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**–ü—Ä–∏–º–µ—Ä:**

```javascript
function invest_generateRecommendation(row) {
  const investmentScore = invest_getInvestmentScore(row)
  const heroTrend = invest_getHeroTrend(row)
  const marketDepth = invest_getMarketDepth(row)
  // ... —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
}
```

---

### –≠–¢–ê–ü 6: –ú–µ–Ω—é –∏ UI

#### 6.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `Menu.gs`

**–î–æ–±–∞–≤–∏—Ç—å –≤ `onOpen()`:**

```javascript
.addSubMenu(ui.createMenu('API Settings')
  .addItem('–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Stratz API', 'stratz_setup')
  .addItem('–¢–µ—Å—Ç Stratz API', 'stratz_testConnection')
)
.addSubMenu(ui.createMenu('HeroStats')
  .addItem('–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', 'heroStats_formatTable')
  .addItem('–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Ä—É—á–Ω–æ–µ)', 'heroStats_updateAllStats')
  .addItem('–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ', 'heroStats_archiveOldData')
)
.addSubMenu(ui.createMenu('HeroMapping')
  .addItem('–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', 'heroMapping_formatTable')
  .addItem('–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ—Ä–æ–µ–≤', 'heroMapping_autoDetectFromSteamWebAPI')
)
.addItem('–†–∞—Å—Å—á–∏—Ç–∞—Ç—å Min/Max –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤', 'priceHistory_calculateMinMaxForAllItems')
.addItem('–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Invest/Sales', 'updateAllMetricsForInvestSales')
```

**–û–±–Ω–æ–≤–∏—Ç—å `initializeAllTables()`:**

```javascript
function initializeAllTables() {
  try {
    invest_formatTable()
    sales_formatTable()
    history_formatTable()
    portfolioStats_formatTable()
    heroStats_formatTable()  // –ù–û–í–û–ï
    heroMapping_formatTable()  // –ù–û–í–û–ï
    getOrCreateAutoLogSheet_()
    getOrCreateLogSheet_()
    SpreadsheetApp.getUi().alert('‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã')
  } catch (e) {
    console.error('Menu: –æ—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü:', e)
    SpreadsheetApp.getUi().alert('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü: ' + e.message)
  }
}
```

---

#### 6.2 –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–û–±–Ω–æ–≤–∏—Ç—å `setupAllTriggers()`:**

```javascript
function setupAllTriggers() {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤ (3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å)
  HERO_STATS_UPDATE_SCHEDULE.HOURS.forEach(hour => {
    ScriptApp.newTrigger('heroStats_updateAllStats')
      .timeBased()
      .atHour(hour)
      .everyDays(1)
      .create()
  })
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ Invest/Sales (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω)
  ScriptApp.newTrigger('updateAllMetricsForInvestSales')
    .timeBased()
    .after(heroStats_updateAllStats)  // –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    .create()
}
```

---

### –≠–¢–ê–ü 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

#### 7.1 –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–°–æ–∑–¥–∞—Ç—å `SyncService.gs`:**

```javascript
/**
 * SyncService - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
 */

function sync_allData() {
  // 1. –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ SteamWebAPI.ru
  // 2. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥–µ—Ä–æ–µ–≤
  // 3. –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ Invest/Sales
  // 4. –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
}

function sync_updateMetricsForInvestSales() {
  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
}
```

---

### üìù –ü–û–†–Ø–î–û–ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–§—É–Ω–¥–∞–º–µ–Ω—Ç):**
1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `Constants.gs` (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `StratzAPI.gs` (–±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + setup)
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å `SteamWebAPI.gs` (–±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `SheetService.gs` (–Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ª–∏—Å—Ç–æ–≤)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–õ–∏—Å—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ):**
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å `HeroStats.gs` + –ª–∏—Å—Ç HeroStats
6. ‚úÖ –°–æ–∑–¥–∞—Ç—å `HeroMapping.gs` + –ª–∏—Å—Ç HeroMapping
7. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Stratz API
8. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ—Ä–æ–µ–≤ —á–µ—Ä–µ–∑ SteamWebAPI.ru

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è):**
9. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SteamWebAPI.ru (–∑–∞–º–µ–Ω–∞ priceoverview)
10. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Min/Max Calculator
11. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è HeroStats —Å History

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (–ú–µ—Ç—Ä–∏–∫–∏):**
12. ‚úÖ –°–æ–∑–¥–∞—Ç—å `Analytics.gs`
13. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏
14. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –≤ History/Invest/Sales
15. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Investment Score –∏ Buyback Score

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5 (–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ UI):**
16. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
17. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –º–µ–Ω—é
18. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã
19. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 6 (Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):**
20. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
21. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã (–ø–æ–∫—É–ø–∫–∞, –æ—Ç–∫—É–ø, –º–µ—Ç–∞, —Ü–µ–Ω—ã)
22. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å–≤–æ–¥–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤
23. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
24. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
25. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç —Å–ø–∞–º–∞ (–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è)
26. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
27. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

## üì± –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê TELEGRAM –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

### üéØ –¶–ï–õ–¨

–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **–Ω–µ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É –µ–∂–µ–¥–Ω–µ–≤–Ω–æ**, –ø–æ–ª—É—á–∞—è —Ç–æ–ª—å–∫–æ **–≤–∞–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã** —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

### üìä –¢–ò–ü–´ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

#### 1. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–ò–ì–ù–ê–õ–´ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏)

**1.1 –°–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É (History/Invest)**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Investment Score >= 0.75 (üü¢ –û—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å)
- **–ß–∞—Å—Ç–æ—Ç–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –ü—Ä–µ–¥–º–µ—Ç, Investment Score
  - Hero Trend (—Ä–æ—Å—Ç –º–µ—Ç—ã, +X% contest rate)
  - Market Depth (–≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å)
  - Momentum (—Ü–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç)
  - –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, Min/Max
  - –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç
- **–§–æ—Ä–º–∞—Ç:** `üî• –°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ –ù–ê –ü–û–ö–£–ü–ö–£`

**1.2 –û—Ç–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ—Ç–∫—É–ø–∞ (Sales)**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Buyback Score >= 0.75 (üü¢ –û—Ç–ª–∏—á–Ω—ã–π –º–æ–º–µ–Ω—Ç)
- **–ß–∞—Å—Ç–æ—Ç–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –ü—Ä–µ–¥–º–µ—Ç, Buyback Score
  - –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ—Å–∞–¥–∫–∏
  - Hero Trend (–≥–µ—Ä–æ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –º–µ—Ç—É)
  - Market Depth (–≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å)
  - –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏
- **–§–æ—Ä–º–∞—Ç:** `üí∞ –û–¢–õ–ò–ß–ù–ê–Ø –í–û–ó–ú–û–ñ–ù–û–°–¢–¨ –î–õ–Ø –û–¢–ö–£–ü–ê`

**1.3 –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–µ –≥–µ—Ä–æ–µ–≤**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Contest Rate Change > 15% –∑–∞ 24 —á–∞—Å–∞
- **–ß–∞—Å—Ç–æ—Ç–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –ì–µ—Ä–æ–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ contest rate
  - –¢–µ–∫—É—â–∏–π contest rate, pick rate, win rate
  - –ü—Ä–µ–¥–º–µ—Ç—ã —ç—Ç–æ–≥–æ –≥–µ—Ä–æ—è –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- **–§–æ—Ä–º–∞—Ç:** `‚ö° –†–ï–ó–ö–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï –í –ú–ï–¢–ï`

**1.4 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω**
- **–¢—Ä–∏–≥–≥–µ—Ä:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã > 20% –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ (–¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ Invest/Sales)
- **–ß–∞—Å—Ç–æ—Ç–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ü–µ–Ω
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –ü—Ä–µ–¥–º–µ—Ç, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã (%)
  - –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ ‚Üí –Ω–æ–≤–∞—è —Ü–µ–Ω–∞
  - –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- **–§–æ—Ä–º–∞—Ç:** `üìä –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï –¶–ï–ù–´`

---

#### 2. –ï–ñ–ï–î–ù–ï–í–ù–´–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø (–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è)

**2.1 –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ (13:00)**
- ‚úÖ **–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** - `telegram_sendDailyReport()`
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –û–±—â–∏–µ –≤–ª–æ–∂–µ–Ω–∏—è, —Ç–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
  - –ü—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ (%)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
  - –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ/—É–±—ã—Ç–æ—á–Ω—ã–µ

**2.2 –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (14:00)**
- **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** `telegram_sendDailySignalsSummary()`
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –¢–æ–ø-5 –ª—É—á—à–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫—É (–ø–æ Investment Score)
  - –¢–æ–ø-3 –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ—Ç–∫—É–ø–∞ (–ø–æ Buyback Score)
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ (—Ç–æ–ø-3 –≥–µ—Ä–æ—è)
- **–§–æ—Ä–º–∞—Ç:** –°–≤–æ–¥–∫–∞ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

---

#### 3. –ï–ñ–ï–ù–ï–î–ï–õ–¨–ù–´–ï –°–í–û–î–ö–ò (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:00)

**3.1 –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç**
- **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** `telegram_sendWeeklyReport()`
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –î–∏–Ω–∞–º–∏–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∑–∞ –Ω–µ–¥–µ–ª—é
  - –¢–æ–ø-5 –ª—É—á—à–∏—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
  - –¢–æ–ø-5 —Ö—É–¥—à–∏—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–µ (–≥–µ—Ä–æ–∏ –≤ —Ä–æ—Å—Ç–µ/–ø–∞–¥–µ–Ω–∏–∏)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é

---

### ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

**–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ PropertiesService:**

```javascript
const TELEGRAM_NOTIFICATIONS_CONFIG = {
  // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã
  CRITICAL_PURCHASE_SIGNALS: true,      // Investment Score >= 0.75
  CRITICAL_BUYBACK_SIGNALS: true,       // Buyback Score >= 0.75
  CRITICAL_HERO_CHANGES: true,          // Contest Rate Change > 15%
  CRITICAL_PRICE_CHANGES: true,         // Price Change > 20%
  
  // –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ
  DAILY_PORTFOLIO_REPORT: true,         // 13:00
  DAILY_SIGNALS_SUMMARY: true,          // 14:00
  
  // –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ
  WEEKLY_REPORT: true,                  // –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00
  
  // –ü–æ—Ä–æ–≥–∏
  INVESTMENT_SCORE_THRESHOLD: 0.75,    // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Investment Score
  BUYBACK_SCORE_THRESHOLD: 0.75,       // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Buyback Score
  HERO_CHANGE_THRESHOLD: 0.15,         // 15% –∏–∑–º–µ–Ω–µ–Ω–∏–µ contest rate
  PRICE_CHANGE_THRESHOLD: 0.20         // 20% –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã
}
```

**–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:**

```javascript
function telegram_getNotificationsConfig() { ... }
function telegram_setNotificationsConfig(config) { ... }
function telegram_setupNotifications() { ... }  // UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

---

### üìù –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

#### 7.2 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `Telegram.gs`

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

```javascript
// === –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–ò–ì–ù–ê–õ–´ ===
function telegram_checkCriticalPurchaseSignals() { ... }  // Investment Score >= 0.75
function telegram_checkCriticalBuybackSignals() { ... }  // Buyback Score >= 0.75
function telegram_checkCriticalHeroChanges() { ... }     // Contest Rate Change > 15%
function telegram_checkCriticalPriceChanges() { ... }    // Price Change > 20%

// === –ï–ñ–ï–î–ù–ï–í–ù–´–ï –°–í–û–î–ö–ò ===
function telegram_sendDailySignalsSummary() { ... }      // 14:00

// === –ï–ñ–ï–ù–ï–î–ï–õ–¨–ù–´–ï –û–¢–ß–ï–¢–´ ===
function telegram_sendWeeklyReport() { ... }             // –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00

// === –ù–ê–°–¢–†–û–ô–ö–ò ===
function telegram_getNotificationsConfig() { ... }
function telegram_setNotificationsConfig(config) { ... }
function telegram_setupNotifications() { ... }           // UI
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥:**

1. **–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫ (Invest/Sales):**
   - –í—ã–∑—ã–≤–∞—Ç—å `telegram_checkCriticalPurchaseSignals()`
   - –í—ã–∑—ã–≤–∞—Ç—å `telegram_checkCriticalBuybackSignals()`

2. **–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ–µ–≤:**
   - –í—ã–∑—ã–≤–∞—Ç—å `telegram_checkCriticalHeroChanges()`

3. **–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ü–µ–Ω:**
   - –í—ã–∑—ã–≤–∞—Ç—å `telegram_checkCriticalPriceChanges()`

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**

```javascript
// –í setupAllTriggers():
// ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã

// –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (14:00)
ScriptApp.newTrigger('telegram_sendDailySignalsSummary')
  .timeBased()
  .atHour(14)
  .everyDays(1)
  .create()

// –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00)
ScriptApp.newTrigger('telegram_sendWeeklyReport')
  .timeBased()
  .onWeekDay(ScriptApp.WeekDay.SUNDAY)
  .atHour(10)
  .everyWeeks(1)
  .create()
```

---

### üé® –§–û–†–ú–ê–¢ –°–û–û–ë–©–ï–ù–ò–ô

**–ü—Ä–∏–º–µ—Ä –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É:**

```
üî• <b>–°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ –ù–ê –ü–û–ö–£–ü–ö–£</b>

–ü—Ä–µ–¥–º–µ—Ç: <b><a href="...">Infernal Menace</a></b>
Investment Score: üü¢ 0.82

üìà <b>–†–æ—Å—Ç –º–µ—Ç—ã</b>
   Contest Rate: +18% –∑–∞ 7 –¥–Ω–µ–π
   Hero: Pudge

üíπ <b>–†—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</b>
   –°–ø—Ä–æ—Å: –í—ã—Å–æ–∫–∏–π (Demand Ratio: 0.85)
   –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å: –•–æ—Ä–æ—à–∞—è
   Momentum: –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç (+8%)

üí∞ <b>–¶–µ–Ω—ã</b>
   –¢–µ–∫—É—â–∞—è: 17.50 ‚ÇΩ
   Min: 14.20 ‚ÇΩ
   Max: 25.30 ‚ÇΩ
   –ü–æ–∑–∏—Ü–∏—è: 35% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞

üí° <b>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</b>
   üü¢ –û—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | –†–æ—Å—Ç –º–µ—Ç—ã (+18%) | –í—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å
```

**–ü—Ä–∏–º–µ—Ä –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–≤–æ–¥–∫–∏:**

```
üìä <b>–°–≤–æ–¥–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞ –¥–µ–Ω—å</b>

üî• <b>–¢–æ–ø-5 —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫—É:</b>
1. Infernal Menace - üü¢ 0.82
2. Wyrmwrought Flare - üü¢ 0.78
3. ...

üí∞ <b>–¢–æ–ø-3 –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ—Ç–∫—É–ø–∞:</b>
1. Arcane Staff - üü¢ 0.85 (–ø—Ä–æ—Å–∞–¥–∫–∞ 28%)
2. ...

‚ö° <b>–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–µ (24—á):</b>
‚Ä¢ Pudge: Contest Rate +18%
‚Ä¢ Invoker: Contest Rate -12%
‚Ä¢ ...
```

---

### üìã –û–ë–ù–û–í–õ–ï–ù–ò–ï –ú–ï–ù–Æ

**–î–æ–±–∞–≤–∏—Ç—å –≤ `Menu.gs`:**

```javascript
.addSubMenu(ui.createMenu('Telegram')
  .addItem('–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram', 'telegram_setup')
  .addItem('–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'telegram_setupNotifications')  // –ù–û–í–û–ï
  .addSeparator()
  .addItem('–¢–µ—Å—Ç Telegram', 'telegram_testConnection')
  .addItem('–¢–µ—Å—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π', 'telegram_testDailyNotifications')
  .addItem('–¢–µ—Å—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤', 'telegram_testCriticalSignals')  // –ù–û–í–û–ï
  .addItem('–¢–µ—Å—Ç —Å–≤–æ–¥–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤', 'telegram_testDailySignalsSummary')  // –ù–û–í–û–ï
)
```

---

### üîÑ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –ö–û–î

**–û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫:**

```javascript
// –í invest_updateInvestmentScores() –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:
function invest_updateInvestmentScores() {
  // ... —Ä–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ–≤
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
  if (telegram_getNotificationsConfig().CRITICAL_PURCHASE_SIGNALS) {
    telegram_checkCriticalPurchaseSignals()
  }
}

// –í sales_updateBuybackScores():
function sales_updateBuybackScores() {
  // ... —Ä–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ–≤
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
  if (telegram_getNotificationsConfig().CRITICAL_BUYBACK_SIGNALS) {
    telegram_checkCriticalBuybackSignals()
  }
}

// –í heroStats_updateAllStats():
function heroStats_updateAllStats() {
  // ... –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–µ—Ç–µ
  if (telegram_getNotificationsConfig().CRITICAL_HERO_CHANGES) {
    telegram_checkCriticalHeroChanges()
  }
}

// –í syncPricesFromHistoryToInvestAndSales():
function syncPricesFromHistoryToInvestAndSales() {
  // ... —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ü–µ–Ω
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω
  if (telegram_getNotificationsConfig().CRITICAL_PRICE_CHANGES) {
    telegram_checkCriticalPriceChanges()
  }
}
```

---

### ‚ö†Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –°–ü–ê–ú–ê

**–ú–µ—Ö–∞–Ω–∏–∑–º –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏:**

- –•—Ä–∞–Ω–∏—Ç—å –≤ PropertiesService –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ç–æ—Ç –∂–µ —Å–∏–≥–Ω–∞–ª –≤ —Ç–µ—á–µ–Ω–∏–µ 6-24 —á–∞—Å–æ–≤
- –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø–æ –∫–ª—é—á—É: `itemName + signalType + timestamp`

**–ü—Ä–∏–º–µ—Ä:**

```javascript
function telegram_shouldSendNotification(itemName, signalType) {
  const props = PropertiesService.getScriptProperties()
  const key = `tg_notif_${itemName}_${signalType}`
  const lastSent = props.getProperty(key)
  
  if (!lastSent) return true
  
  const lastSentTime = Number(lastSent)
  const now = Date.now()
  const hoursSinceLastSent = (now - lastSentTime) / (1000 * 60 * 60)
  
  // –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 12 —á–∞—Å–æ–≤
  if (hoursSinceLastSent < 12) {
    return false
  }
  
  return true
}

function telegram_markNotificationSent(itemName, signalType) {
  const props = PropertiesService.getScriptProperties()
  const key = `tg_notif_${itemName}_${signalType}`
  props.setProperty(key, String(Date.now()))
}
```

---

## üîç –°–¶–ï–ù–ê–†–ò–ò –†–ê–ë–û–¢–´

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã"
2. –°–æ–∑–¥–∞—é—Ç—Å—è –≤—Å–µ –ª–∏—Å—Ç—ã (–≤–∫–ª—é—á–∞—è HeroStats, HeroMapping)
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Stratz API —á–µ—Ä–µ–∑ –º–µ–Ω—é
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ—Ä–æ–µ–≤ —á–µ—Ä–µ–∑ SteamWebAPI.ru
6. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–∞—Å—á–µ—Ç Min/Max —á–µ—Ä–µ–∑ pricehistory

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

1. –¢—Ä–∏–≥–≥–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥–µ—Ä–æ–µ–≤ (3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å)
2. –¢—Ä–∏–≥–≥–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ SteamWebAPI.ru
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ –≤ Invest/Sales
4. –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
5. **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã (—Å–∏–ª—å–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏, –æ—Ç–∫—É–ø—ã, –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ—Ç—ã, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω)
   - 13:00: –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ
   - 14:00: –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
   - –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 10:00: –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å (–±–µ–∑ –∑–∞—Ö–æ–¥–∞ –≤ —Ç–∞–±–ª–∏—Ü—É)

1. –í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã —á–µ—Ä–µ–∑ Telegram:
   - –°–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É (Investment Score >= 0.75)
   - –û—Ç–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ—Ç–∫—É–ø–∞ (Buyback Score >= 0.75)
   - –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–µ –≥–µ—Ä–æ–µ–≤
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω
   - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ —Å–≤–æ–¥–∫–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –≤ —Ç–∞–±–ª–∏—Ü—É —Ç–æ–ª—å–∫–æ –¥–ª—è:
   - –°–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–ø–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
   - –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. "–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Ä—É—á–Ω–æ–µ)" - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ HeroStats
2. "–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ—Ä–æ–µ–≤" - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞
3. "–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Invest/Sales" - –ø–µ—Ä–µ—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
4. "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å Min/Max" - —Ä–∞–∑–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤

---

## ‚ùì –í–û–ü–†–û–°–´ –î–õ–Ø –£–¢–û–ß–ù–ï–ù–ò–Ø

1. **Stratz API:** –ù—É–∂–Ω–æ –ª–∏ –∏–∑—É—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–ª–∏ –µ—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è?
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:** –° –∫–∞–∫–æ–≥–æ —ç—Ç–∞–ø–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é?
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù—É–∂–Ω—ã –ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è?

---

## üîó –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

**Stratz API:**
- GraphQL Endpoint: `https://api.stratz.com/graphql`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://stratz.com/api (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑—É—á–∏—Ç—å)

**SteamWebAPI.ru:**
- Base URL: `https://steamwebapi.ru/`
- –≠–Ω–¥–ø–æ–∏–Ω—Ç: `/api/item?game=dota2&name[]={item}` (–¥–æ 50 –ø—Ä–µ–¥–º–µ—Ç–æ–≤)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `openapi.yaml` –≤ –ø—Ä–æ–µ–∫—Ç–µ

**–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç:** Infernal Menace (Dota 2, appid=570)